---
import Layout from "../layouts/Layout.astro";
import Icon from "../components/icons/Icon.astro";
---

<Layout title="Sorteo VIP - Ganador Anual">
  <!-- Hero Section - Anuncio del Proyecto -->
  <section
    id="inicio"
    class="bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 text-white py-20"
    aria-labelledby="hero-title"
  >
    <div class="container mx-auto px-4 max-w-6xl">
      <div class="text-center mb-12">
        <div class="mb-6 flex justify-center">
          <Icon name="gift" class="w-20 h-20 md:w-24 md:h-24 text-white" />
        </div>
        <h1 id="hero-title" class="text-5xl md:text-6xl font-bold mb-4">
          Sorteo VIP Anual 2024
        </h1>
        <p class="text-xl md:text-2xl text-primary-100 mb-8">
          Oportunidad única de ganar premios increíbles
        </p>
        <div
          class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3"
        >
          <Icon name="trophy" class="w-6 h-6 text-white flex-shrink-0" />
          <p class="text-lg font-semibold">Premio Principal: $50,000 USD</p>
        </div>
      </div>

      <!-- Información del Proyecto -->
      <div class="grid md:grid-cols-3 gap-6 mt-12">
        <div
          class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"
        >
          <div class="mb-3 text-white">
            <Icon name="calendar" class="w-10 h-10" />
          </div>
          <h3 class="font-bold text-lg mb-2">Fecha del Sorteo</h3>
          <p class="text-primary-100">31 de Diciembre, 2024</p>
        </div>
        <div
          class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"
        >
          <div class="mb-3 text-white">
            <Icon name="ticket" class="w-10 h-10" />
          </div>
          <h3 class="font-bold text-lg mb-2">Boletas Disponibles</h3>
          <p class="text-primary-100" id="boletasDisponibles">500 boletas</p>
        </div>
        <div
          class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"
        >
          <div class="mb-3 text-white">
            <Icon name="currency" class="w-10 h-10" />
          </div>
          <h3 class="font-bold text-lg mb-2">Precio por Boleta</h3>
          <p class="text-primary-100">$100 USD</p>
        </div>
      </div>

      <!-- Detalles del Proyecto -->
      <div
        class="mt-12 bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20"
      >
        <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
          <Icon name="clipboard" class="w-7 h-7 text-white" />
          Detalles del Sorteo
        </h2>
        <div class="space-y-3 text-primary-100">
          <p>
            • El sorteo se realizará automáticamente cuando una boleta sea
            comprada y pagada
          </p>
          <p>• Múltiples boletas = más oportunidades de ganar</p>
          <p>• Resultados verificables y transparentes</p>
          <p>• El ganador será notificado inmediatamente</p>
        </div>
        <p class="mt-4 text-sm text-primary-200 italic">
          * Información del proyecto. Reemplaza este contenido con los detalles
          reales de tu sorteo.
        </p>
      </div>
    </div>
  </section>

  <!-- Sección de Compra de Boletas -->
  <section id="comprar" class="py-16 bg-white" aria-labelledby="comprar-title">
    <div class="container mx-auto px-4 max-w-4xl">
      <div class="text-center mb-12">
        <h2 id="comprar-title" class="text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3">
          <Icon name="cart" class="w-10 h-10 text-primary-600" />
          Compra tu Boleta
        </h2>
        <p class="text-xl text-gray-600">
          Participa en el sorteo comprando una o más boletas
        </p>
      </div>

      <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl shadow-xl p-8"
      >
        <form id="formCompra" class="space-y-6">
          <!-- Datos del Comprador -->
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label
                for="nombre"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Nombre Completo *
              </label>
              <input
                type="text"
                id="nombre"
                name="nombre"
                required
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="Juan Pérez"
              />
            </div>
            <div>
              <label
                for="email"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Correo Electrónico *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="juan@ejemplo.com"
              />
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label
                for="telefono"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Teléfono *
              </label>
              <input
                type="tel"
                id="telefono"
                name="telefono"
                required
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="+1234567890"
              />
            </div>
            <div>
              <label
                for="cantidad"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Cantidad de Boletas *
              </label>
              <input
                type="number"
                id="cantidad"
                name="cantidad"
                min="1"
                max="10"
                value="1"
                required
                class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
              />
            </div>
          </div>

          <!-- Resumen de Compra -->
          <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
            <h3 class="font-bold text-lg text-gray-900 mb-4 flex items-center gap-2">
              <Icon name="chart" class="w-5 h-5 text-primary-600" />
              Resumen de Compra
            </h3>
            <div class="space-y-3">
              <div class="flex justify-between text-gray-700">
                <span>Precio por boleta:</span>
                <span class="font-semibold">$100 USD</span>
              </div>
              <div class="flex justify-between text-gray-700">
                <span id="resumenCantidad">Cantidad: 1 boleta</span>
                <span class="font-semibold" id="resumenSubtotal">$100 USD</span>
              </div>
              <div class="border-t-2 border-gray-300 pt-3 mt-3">
                <div
                  class="flex justify-between text-xl font-bold text-primary-600"
                >
                  <span>Total:</span>
                  <span id="resumenTotal">$100 USD</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Método de Pago -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-4">
              Método de Pago *
            </label>
            <div class="grid md:grid-cols-3 gap-4">
              <label class="cursor-pointer">
                <input
                  type="radio"
                  name="metodoPago"
                  value="tarjeta"
                  class="peer hidden"
                  required
                />
                <div
                  class="p-4 border-2 border-gray-300 rounded-lg hover:border-primary-500 peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all"
                >
                  <div class="mb-2 text-primary-600">
                    <Icon name="creditCard" class="w-8 h-8" />
                  </div>
                  <div class="font-semibold text-gray-900">Tarjeta</div>
                </div>
              </label>
              <label class="cursor-pointer">
                <input
                  type="radio"
                  name="metodoPago"
                  value="transferencia"
                  class="peer hidden"
                />
                <div
                  class="p-4 border-2 border-gray-300 rounded-lg hover:border-primary-500 peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all"
                >
                  <div class="mb-2 text-primary-600">
                    <Icon name="bank" class="w-8 h-8" />
                  </div>
                  <div class="font-semibold text-gray-900">Transferencia</div>
                </div>
              </label>
              <label class="cursor-pointer">
                <input
                  type="radio"
                  name="metodoPago"
                  value="paypal"
                  class="peer hidden"
                />
                <div
                  class="p-4 border-2 border-gray-300 rounded-lg hover:border-primary-500 peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all"
                >
                  <div class="mb-2 text-primary-600">
                    <Icon name="paypal" class="w-8 h-8" />
                  </div>
                  <div class="font-semibold text-gray-900">PayPal</div>
                </div>
              </label>
            </div>
          </div>

          <!-- Información de Tarjeta (si se selecciona tarjeta) -->
          <div id="infoTarjeta" class="hidden">
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <label
                  for="numeroTarjeta"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  Número de Tarjeta *
                </label>
                <input
                  type="text"
                  id="numeroTarjeta"
                  name="numeroTarjeta"
                  maxlength="19"
                  class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                  placeholder="1234 5678 9012 3456"
                />
              </div>
              <div>
                <label
                  for="fechaVencimiento"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  Fecha de Vencimiento *
                </label>
                <input
                  type="text"
                  id="fechaVencimiento"
                  name="fechaVencimiento"
                  maxlength="5"
                  placeholder="MM/AA"
                  class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                />
              </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6 mt-6">
              <div>
                <label
                  for="nombreTarjeta"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  Nombre en la Tarjeta *
                </label>
                <input
                  type="text"
                  id="nombreTarjeta"
                  name="nombreTarjeta"
                  class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                  placeholder="JUAN PEREZ"
                />
              </div>
              <div>
                <label
                  for="cvv"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  CVV *
                </label>
                <input
                  type="text"
                  id="cvv"
                  name="cvv"
                  maxlength="4"
                  class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                  placeholder="123"
                />
              </div>
            </div>
          </div>

          <!-- Botón de Compra -->
          <button
            type="submit"
            id="btnComprar"
            class="w-full flex items-center justify-center gap-2 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-bold py-5 px-8 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-lg"
          >
            <Icon name="creditCard" class="w-6 h-6" />
            Comprar y Pagar Boletas
          </button>

          <p class="text-sm text-gray-500 text-center">
            Al comprar, aceptas nuestros términos y condiciones
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- Estadísticas del Sorteo -->
  <section
    id="estadisticas"
    class="py-16 bg-gray-50"
    aria-labelledby="estadisticas-title"
  >
    <div class="container mx-auto px-4 max-w-6xl">
      <h2
        id="estadisticas-title"
        class="text-3xl font-bold text-center text-gray-900 mb-12 flex items-center justify-center gap-2"
      >
        <Icon name="chart" class="w-8 h-8 text-primary-600" />
        Estadísticas del Sorteo
      </h2>
      <div class="grid md:grid-cols-4 gap-6">
        <div
          class="bg-white rounded-xl p-6 shadow-lg text-center border-2 border-blue-200"
        >
          <div class="mb-3 flex justify-center text-blue-600">
            <Icon name="ticket" class="w-12 h-12" />
          </div>
          <p class="text-sm text-gray-600 mb-1">Boletas Vendidas</p>
          <p id="boletasVendidas" class="text-3xl font-bold text-blue-600">0</p>
        </div>
        <div
          class="bg-white rounded-xl p-6 shadow-lg text-center border-2 border-green-200"
        >
          <div class="mb-3 flex justify-center text-green-600">
            <Icon name="currency" class="w-12 h-12" />
          </div>
          <p class="text-sm text-gray-600 mb-1">Total Recaudado</p>
          <p id="totalRecaudado" class="text-3xl font-bold text-green-600">
            $0
          </p>
        </div>
        <div
          class="bg-white rounded-xl p-6 shadow-lg text-center border-2 border-purple-200"
        >
          <div class="mb-3 flex justify-center text-purple-600">
            <Icon name="users" class="w-12 h-12" />
          </div>
          <p class="text-sm text-gray-600 mb-1">Participantes</p>
          <p id="totalParticipantes" class="text-3xl font-bold text-purple-600">
            0
          </p>
        </div>
        <div
          class="bg-white rounded-xl p-6 shadow-lg text-center border-2 border-red-200"
        >
          <div class="mb-3 flex justify-center text-red-600">
            <Icon name="target" class="w-12 h-12" />
          </div>
          <p class="text-sm text-gray-600 mb-1">Sorteos Realizados</p>
          <p id="totalSorteos" class="text-3xl font-bold text-red-600">0</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección de Contacto -->
  <section
    id="contacto"
    class="py-16 bg-white"
    aria-labelledby="contacto-title"
  >
    <div class="container mx-auto px-4 max-w-4xl">
      <div class="text-center mb-12">
        <h2 id="contacto-title" class="text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3">
          <Icon name="phone" class="w-10 h-10 text-primary-600" />
          Contáctanos
        </h2>
        <p class="text-xl text-gray-600">
          ¿Tienes preguntas? Estamos aquí para ayudarte
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        <!-- Información de Contacto -->
        <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-6">
            Información de Contacto
          </h3>
          <div class="space-y-4">
            <div class="flex items-start gap-4">
              <div
                class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-primary-600"
              >
                <Icon name="envelope" class="w-6 h-6" />
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-1">Email</h4>
                <a
                  href="mailto:info@sorteovip.com"
                  class="text-primary-600 hover:text-primary-700 transition-colors"
                >
                  info@sorteovip.com
                </a>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div
                class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-primary-600"
              >
                <Icon name="phone" class="w-6 h-6" />
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-1">Teléfono</h4>
                <a
                  href="tel:+1234567890"
                  class="text-primary-600 hover:text-primary-700 transition-colors"
                >
                  +1 (234) 567-890
                </a>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div
                class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-primary-600"
              >
                <Icon name="mapPin" class="w-6 h-6" />
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-1">Dirección</h4>
                <address class="not-italic text-gray-600">
                  123 Calle Principal<br />
                  Ciudad, País 12345
                </address>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div
                class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 text-primary-600"
              >
                <Icon name="clock" class="w-6 h-6" />
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-1">
                  Horario de Atención
                </h4>
                <p class="text-gray-600">
                  Lunes - Viernes: 9:00 AM - 6:00 PM<br />
                  Sábados: 10:00 AM - 2:00 PM
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Formulario de Contacto -->
        <div
          class="bg-white rounded-2xl shadow-xl p-8 border-2 border-gray-200"
        >
          <h3 class="text-2xl font-bold text-gray-900 mb-6">
            Envíanos un Mensaje
          </h3>
          <form id="formContacto" class="space-y-4">
            <div>
              <label
                for="contactoNombre"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Nombre *
              </label>
              <input
                type="text"
                id="contactoNombre"
                name="nombre"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="Tu nombre"
              />
            </div>
            <div>
              <label
                for="contactoEmail"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Email *
              </label>
              <input
                type="email"
                id="contactoEmail"
                name="email"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="tu@email.com"
              />
            </div>
            <div>
              <label
                for="contactoAsunto"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Asunto *
              </label>
              <input
                type="text"
                id="contactoAsunto"
                name="asunto"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all"
                placeholder="Asunto del mensaje"
              />
            </div>
            <div>
              <label
                for="contactoMensaje"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Mensaje *
              </label>
              <textarea
                id="contactoMensaje"
                name="mensaje"
                required
                rows="4"
                class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all resize-none"
                placeholder="Escribe tu mensaje aquí..."></textarea>
            </div>
            <button
              type="submit"
              class="w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"
            >
              Enviar Mensaje
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Resultado del Sorteo -->
  <div
    id="resultadoSorteo"
    class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div
      class="bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-2xl shadow-2xl p-8 max-w-2xl w-full text-center animate-pulse"
    >
      <div class="mb-4 flex justify-center">
        <Icon name="sparkles" class="w-20 h-20 text-yellow-500" />
      </div>
      <h2 class="text-4xl font-bold text-gray-900 mb-2">¡Felicidades!</h2>
      <p class="text-xl text-gray-600 mb-6">El ganador del sorteo es:</p>
      <div class="bg-white rounded-xl p-8 shadow-lg mb-6">
        <p id="ganadorNombre" class="text-5xl font-bold text-primary-600 mb-2">
        </p>
        <p id="ganadorBoleta" class="text-2xl text-gray-700"></p>
        <p id="ganadorFecha" class="text-lg text-gray-500 mt-4"></p>
      </div>
      <button
        id="btnCerrarResultado"
        class="bg-primary-600 hover:bg-primary-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200"
      >
        Cerrar
      </button>
    </div>
  </div>

  <!-- Confirmación de Compra -->
  <div
    id="confirmacionCompra"
    class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div
      class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center"
    >
      <div class="mb-4 flex justify-center text-green-600">
        <Icon name="check" class="w-16 h-16" />
      </div>
      <h2 class="text-3xl font-bold text-gray-900 mb-4">¡Compra Exitosa!</h2>
      <p class="text-lg text-gray-600 mb-6">
        Tu boleta ha sido registrada correctamente. El sorteo se realizará
        automáticamente.
      </p>
      <div class="bg-gray-50 rounded-xl p-4 mb-6 text-left">
        <p class="text-sm text-gray-600 mb-1">Número de boleta:</p>
        <p id="numeroBoleta" class="text-xl font-bold text-primary-600"></p>
      </div>
      <button
        id="btnCerrarConfirmacion"
        class="w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200"
      >
        Aceptar
      </button>
    </div>
  </div>
</Layout>

<!-- <script type="module">
  import initSorteo from "../lib/indexLogic.ts";

  // Inicializa la lógica del cliente (eventos, UI, sim de Firebase)
  initSorteo();
</script> -->

<style>
  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }

  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
</style>
